{
  "id": "demand-structure",
  "name": "Demand Structure",
  "description": "Citizens demand that a specific structure be built.",
  "traits": [
    "dangerous",
    "continuous"
  ],
  "location": "Largest settlement",
  "modifier": 0,
  "resolvedOn": [
    "criticalSuccess",
    "success"
  ],
  "special": "If you build a structure of the demanded type, the event ends (automatic success).",
  "ifUnresolved": {
    "type": "continuous",
    "continuous": {
      "becomesModifier": true,
      "modifierTemplate": {
        "name": "Unresolved: Demand Structure",
        "description": "Each turn: +1 Unrest (or pay 1 Gold concession). Protests continue and grow more organized.",
        "duration": "until-resolved",
        "severity": "dangerous",
        "effects": {
          "unrest": 1
        },
        "resolution": {
          "skills": [
            "diplomacy",
            "intimidation",
            "society"
          ]
        }
      }
    }
  },
  "skills": [
    {
      "skill": "diplomacy",
      "description": "negotiate a compromise"
    },
    {
      "skill": "intimidation",
      "description": "enforce order"
    },
    {
      "skill": "society",
      "description": "understand their needs"
    }
  ],
  "effects": {
    "criticalSuccess": {
      "msg": "Citizens convinced; -1 Unrest, **event ends**",
      "modifiers": [
        {
          "type": "untyped",
          "name": "Citizens convinced",
          "value": -1,
          "selector": "unrest",
          "enabled": true
        }
      ]
    },
    "success": {
      "msg": "Demands are satisfied; **event ends**",
      "modifiers": []
    },
    "failure": {
      "msg": "Protests continue; +1 Unrest, or pay 1 Gold as concessions",
      "modifiers": [
        {
          "type": "untyped",
          "name": "Protests continue",
          "value": 1,
          "selector": "unrest",
          "enabled": true
        }
      ]
    },
    "criticalFailure": {
      "msg": "Violence erupts; +2 Unrest, event escalates",
      "modifiers": [
        {
          "type": "untyped",
          "name": "Violence erupts",
          "value": 2,
          "selector": "unrest",
          "enabled": true
        }
      ]
    }
  }
}
