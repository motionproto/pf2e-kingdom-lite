<section class="km-kingdom-layout">
  {{#if hasKingdom}}
    <header class="km-kingdom-header">
      <h2 class="km-kingdom-title">{{kingdomName}}</h2>
      <div class="km-kingdom-meta">
        <span>Level {{level}}</span>
        <span>Size {{size}} {{#if sizeLabel}}({{sizeLabel}}){{/if}}</span>
        <span>Unrest {{unrest}}</span>
      </div>
      {{#if automateResourcesLabel}}
        <div class="km-kingdom-mode">
          Resource automation: {{automateResourcesLabel}}
        </div>
      {{/if}}
      {{#if currentTurnPhase}}
        <div class="km-kingdom-phase">
          Current phase: {{currentTurnPhase}}
        </div>
      {{/if}}
    </header>

    {{#if gold}}
      <section class="km-panel">
        <h3>Gold</h3>
        <div class="km-grid km-gold-grid">
          <div>
            <span class="km-label">Treasury</span>
            <span class="km-value">{{gold.treasury}}</span>
          </div>
          <div>
            <span class="km-label">Income</span>
            <span class="km-value">{{gold.income}}</span>
          </div>
          <div>
            <span class="km-label">Upkeep</span>
            <span class="km-value">{{gold.upkeep}}</span>
          </div>
          <div>
            <span class="km-label">Net</span>
            <span class="km-value">{{gold.net}}</span>
          </div>
        </div>
      </section>
    {{/if}}

    <section class="km-panel">
      <h3>Resources</h3>
      <table class="km-table">
        <thead>
          <tr>
            <th>Resource</th>
            <th>Current</th>
            <th>Incoming</th>
            <th>Capacity</th>
          </tr>
        </thead>
        <tbody>
          {{#each commodities}}
            <tr>
              <td>{{label}}</td>
              <td>{{current}}</td>
              <td>{{incoming}}</td>
              <td>{{capacity}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </section>

    <section class="km-panel">
      <h3>Worksites</h3>
      <table class="km-table">
        <thead>
          <tr>
            <th>Type</th>
            <th>Quantity</th>
            <th>Resource Dice</th>
          </tr>
        </thead>
        <tbody>
          {{#each worksites}}
            <tr>
              <td>{{label}}</td>
              <td>{{quantity}}</td>
              <td>{{resources}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </section>

    {{#if consumption}}
      <section class="km-panel">
        <h3>Consumption</h3>
        <div class="km-grid km-consumption-grid">
          <div>
            <span class="km-label">Current</span>
            <span class="km-value">{{consumption.current}}</span>
          </div>
          <div>
            <span class="km-label">Armies</span>
            <span class="km-value">{{consumption.armies}}</span>
          </div>
          <div>
            <span class="km-label">Next turn</span>
            <span class="km-value">{{consumption.next}}</span>
          </div>
        </div>
      </section>
    {{/if}}
  {{else}}
    <div class="km-empty-state">
      <p>{{message}}</p>
    </div>
  {{/if}}
</section>
